<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>利用face_recognition进行人脸识别 - 爱像水墨青花</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="lixueping" /><meta name="description" content="https://github.com/ageitgey/face_recognition Face Recognition 人脸识别 译者注： 本项目face_recognition是一个强大、简单、易上手的人脸识别开源项目，并且配备了完整的开发文档和应用案例，" /><meta name="keywords" content="Hugo, theme, even" />






<meta name="generator" content="Hugo 0.66.0 with theme even" />


<link rel="canonical" href="https://www.lflxp.cn/post/ai/face-recognition/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<link href="/dist/even.c2a46f00.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="利用face_recognition进行人脸识别" />
<meta property="og:description" content="https://github.com/ageitgey/face_recognition Face Recognition 人脸识别 译者注： 本项目face_recognition是一个强大、简单、易上手的人脸识别开源项目，并且配备了完整的开发文档和应用案例，" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.lflxp.cn/post/ai/face-recognition/" />
<meta property="article:published_time" content="2020-01-15T23:11:22+08:00" />
<meta property="article:modified_time" content="2020-01-16T17:59:55+08:00" />
<meta itemprop="name" content="利用face_recognition进行人脸识别">
<meta itemprop="description" content="https://github.com/ageitgey/face_recognition Face Recognition 人脸识别 译者注： 本项目face_recognition是一个强大、简单、易上手的人脸识别开源项目，并且配备了完整的开发文档和应用案例，">
<meta itemprop="datePublished" content="2020-01-15T23:11:22&#43;08:00" />
<meta itemprop="dateModified" content="2020-01-16T17:59:55&#43;08:00" />
<meta itemprop="wordCount" content="4006">



<meta itemprop="keywords" content="人脸识别,face_recognition,ml," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="利用face_recognition进行人脸识别"/>
<meta name="twitter:description" content="https://github.com/ageitgey/face_recognition Face Recognition 人脸识别 译者注： 本项目face_recognition是一个强大、简单、易上手的人脸识别开源项目，并且配备了完整的开发文档和应用案例，"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">平凡的英雄</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">主页</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">归档</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">标签</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">目录</li>
      </a><a href="/post/about/">
        <li class="mobile-menu-item">关于</li>
      </a>
  </ul>
</nav>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">平凡的英雄</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">主页</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">归档</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">标签</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">目录</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/about/">关于</a>
      </li>
  </ul>
</nav>
    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">利用face_recognition进行人脸识别</h1>

      <div class="post-meta">
        <span class="post-time"> 2020-01-15 </span>
        <div class="post-category">
            <a href="/categories/%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB/"> 人脸识别 </a>
            </div>
        <span id="busuanzi_container_page_pv" class="more-meta"> <span id="busuanzi_value_page_pv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> 次阅读 </span>
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#特性">特性</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#安装">安装</a>
      <ul>
        <li><a href="#环境配置">环境配置</a></li>
        <li><a href="#不同操作系统的安装方法">不同操作系统的安装方法</a></li>
      </ul>
    </li>
    <li><a href="#使用方法">使用方法</a>
      <ul>
        <li><a href="#命令行界面">命令行界面</a></li>
      </ul>
    </li>
    <li><a href="#python-案例">Python 案例</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#关于-face_recognition的文章和教程">关于 <code>face_recognition</code>的文章和教程</a></li>
    <li><a href="#人脸识别的原理">人脸识别的原理</a></li>
    <li><a href="#警告说明">警告说明</a></li>
    <li><a href="#把本项目部署在云服务器上-heroku-aws等">把本项目部署在云服务器上 (Heroku, AWS等)</a></li>
    <li><a href="#出了幺蛾子">出了幺蛾子？</a></li>
    <li><a href="#鸣谢">鸣谢</a></li>
  </ul>
</nav>
  </div>
</div>
  <div class="post-outdated">
    <div class="hint">
      <p>【注意】最后更新于 <span class="timeago" datetime="2020-01-16T17:59:55" title="January 16, 2020">January 16, 2020</span>，文中内容可能已过时，请谨慎使用。</p>
    </div>
  </div>
    <div class="post-content">
      <blockquote>
<p><a href="https://github.com/ageitgey/face_recognition">https://github.com/ageitgey/face_recognition</a></p>
</blockquote>
<h1 id="face-recognition-人脸识别">Face Recognition 人脸识别</h1>
<blockquote>
<p>译者注：</p>
<p>本项目<a href="https://github.com/ageitgey/face_recognition">face_recognition</a>是一个强大、简单、易上手的人脸识别开源项目，并且配备了完整的开发文档和应用案例，特别是兼容树莓派系统。</p>
<p>为了便于中国开发者研究学习人脸识别、贡献代码，我将本项目README文件翻译成中文。</p>
<p>向本项目的所有贡献者致敬。</p>
<p>英译汉：同济大学开源软件协会 <a href="https://github.com/TommyZihao">子豪兄Tommy</a></p>
<p>Translator&rsquo;s note:</p>
<p><a href="https://github.com/ageitgey/face_recognition">face_recognition</a> is a powerful, simple and easy-to-use face recognition open source project with complete development documents and application cases, especially it is compatible with Raspberry Pi.</p>
<p>In order to facilitate Chinese software developers to learn, make progress in face recognition development and source code contributions, I translated README file into simplified Chinese.</p>
<p>Salute to all contributors to this project.</p>
<p>Translator: Tommy in Tongji Univerisity Opensource Association  <a href="https://github.com/TommyZihao">子豪兄Tommy</a></p>
</blockquote>
<p>本项目是世界上最简洁的人脸识别库，你可以使用Python和命令行工具提取、识别、操作人脸。</p>
<p>本项目的人脸识别是基于业内领先的C++开源库 <a href="http://dlib.net/">dlib</a>中的深度学习模型，用<a href="http://vis-www.cs.umass.edu/lfw/">Labeled Faces in the Wild</a>人脸数据集进行测试，有高达99.38%的准确率。但对小孩和亚洲人脸的识别准确率尚待提升。</p>
<blockquote>
<p><a href="http://vis-www.cs.umass.edu/lfw/">Labeled Faces in the Wild</a>是美国麻省大学安姆斯特分校（University of Massachusetts Amherst)制作的人脸数据集，该数据集包含了从网络收集的13,000多张面部图像。</p>
</blockquote>
<p>本项目提供了简易的<code>face_recognition</code>命令行工具，你可以用它处理整个文件夹里的图片。</p>
<p><a href="https://pypi.python.org/pypi/face_recognition"><img src="https://img.shields.io/pypi/v/face_recognition.svg" alt="PyPI"></a>
<a href="https://travis-ci.org/ageitgey/face_recognition"><img src="https://travis-ci.org/ageitgey/face_recognition.svg?branch=master" alt="Build Status"></a>
<a href="http://face-recognition.readthedocs.io/en/latest/?badge=latest"><img src="https://readthedocs.org/projects/face-recognition/badge/?version=latest" alt="Documentation Status"></a></p>
<h2 id="特性">特性</h2>
<h4 id="从图片里找到人脸">从图片里找到人脸</h4>
<p>定位图片中的所有人脸：</p>
<p><img src="https://cloud.githubusercontent.com/assets/896692/23625227/42c65360-025d-11e7-94ea-b12f28cb34b4.png" alt=""></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">face_recognition</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">face_recognition</span><span class="o">.</span><span class="n">load_image_file</span><span class="p">(</span><span class="s2">&#34;your_file.jpg&#34;</span><span class="p">)</span>
<span class="n">face_locations</span> <span class="o">=</span> <span class="n">face_recognition</span><span class="o">.</span><span class="n">face_locations</span><span class="p">(</span><span class="n">image</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="识别人脸关键点">识别人脸关键点</h4>
<p>识别人脸关键点，包括眼睛、鼻子、嘴和下巴。</p>
<p><img src="https://cloud.githubusercontent.com/assets/896692/23625282/7f2d79dc-025d-11e7-8728-d8924596f8fa.png" alt=""></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">face_recognition</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">face_recognition</span><span class="o">.</span><span class="n">load_image_file</span><span class="p">(</span><span class="s2">&#34;your_file.jpg&#34;</span><span class="p">)</span>
<span class="n">face_landmarks_list</span> <span class="o">=</span> <span class="n">face_recognition</span><span class="o">.</span><span class="n">face_landmarks</span><span class="p">(</span><span class="n">image</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>识别人脸关键点在很多领域都有用处，但同样你也可以把这个功能玩坏，比如本项目的 <a href="https://github.com/ageitgey/face_recognition/blob/master/examples/digital_makeup.py">digital make-up</a>自动化妆案例（就像美图秀秀一样）。</p>
<p><img src="https://cloud.githubusercontent.com/assets/896692/23625283/80638760-025d-11e7-80a2-1d2779f7ccab.png" alt=""></p>
<h4 id="识别图片中的人是谁">识别图片中的人是谁</h4>
<p><img src="https://cloud.githubusercontent.com/assets/896692/23625229/45e049b6-025d-11e7-89cc-8a71cf89e713.png" alt=""></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">face_recognition</span>
<span class="n">known_image</span> <span class="o">=</span> <span class="n">face_recognition</span><span class="o">.</span><span class="n">load_image_file</span><span class="p">(</span><span class="s2">&#34;biden.jpg&#34;</span><span class="p">)</span>
<span class="n">unknown_image</span> <span class="o">=</span> <span class="n">face_recognition</span><span class="o">.</span><span class="n">load_image_file</span><span class="p">(</span><span class="s2">&#34;unknown.jpg&#34;</span><span class="p">)</span>

<span class="n">biden_encoding</span> <span class="o">=</span> <span class="n">face_recognition</span><span class="o">.</span><span class="n">face_encodings</span><span class="p">(</span><span class="n">known_image</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">unknown_encoding</span> <span class="o">=</span> <span class="n">face_recognition</span><span class="o">.</span><span class="n">face_encodings</span><span class="p">(</span><span class="n">unknown_image</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

<span class="n">results</span> <span class="o">=</span> <span class="n">face_recognition</span><span class="o">.</span><span class="n">compare_faces</span><span class="p">([</span><span class="n">biden_encoding</span><span class="p">],</span> <span class="n">unknown_encoding</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>你也可以配合其它的Python库（比如opencv）实现实时人脸检测：</p>
<p><img src="https://cloud.githubusercontent.com/assets/896692/24430398/36f0e3f0-13cb-11e7-8258-4d0c9ce1e419.gif" alt=""></p>
<p>看这个案例 <a href="https://github.com/ageitgey/face_recognition/blob/master/examples/facerec_from_webcam_faster.py">实时人脸检测</a> 。</p>
<h2 id="安装">安装</h2>
<h3 id="环境配置">环境配置</h3>
<ul>
<li>Python 3.3+ or Python 2.7</li>
<li>macOS or Linux</li>
<li>Windows并不是我们官方支持的，但也许也能用</li>
</ul>
<h3 id="不同操作系统的安装方法">不同操作系统的安装方法</h3>
<h4 id="在-mac-或者-linux上安装本项目">在 Mac 或者 Linux上安装本项目</h4>
<p>First, make sure you have dlib already installed with Python bindings:</p>
<p>第一步，安装dlib和相关Python依赖：</p>
<ul>
<li><a href="https://gist.github.com/ageitgey/629d75c1baac34dfa5ca2a1928a7aeaf">如何在macOS或者Ubuntu上安装dlib</a></li>
</ul>
<p>Then, install this module from pypi using <code>pip3</code> (or <code>pip2</code> for Python 2):</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">pip3 install face_recognition
</code></pre></td></tr></table>
</div>
</div><p>如果你遇到了幺蛾子，可以用Ubuntu虚拟机安装本项目，看下面这个教程。
<a href="https://medium.com/@ageitgey/try-deep-learning-in-python-now-with-a-fully-pre-configured-vm-1d97d4c3e9b">如何使用Adam Geitgey大神提供的Ubuntu虚拟机镜像文件安装配置虚拟机，本项目已经包含在镜像中</a>.</p>
<h4 id="在-mac-或者-linux上安装本项目-2">在 Mac 或者 Linux上安装本项目 2</h4>
<p>修改你的pip镜像源为清华镜像，然后使用<code>pip install face_recognition</code>,可以自动帮你安装各种依赖，包括dlib。只是在安装dlib的时候可能会出问题，因为dlib需要编译，出现的问题一般是<code>gcc</code>或者<code>g++</code>版本的问题，所以在<code>pip install face_recognition</code>之前，可以通过在命令行键入</p>
<pre><code>export CC=/usr/local/bin/gcc
export CXX=/usr/local/bin/g++  
</code></pre>
<p>来指定你gcc和g++对应的位置，（这两句话会临时修改当前终端的环境变量/usr/local/bin/gcc对应你自己gcc或者g++所在目录）。</p>
<h4 id="在树莓派上安装">在树莓派上安装</h4>
<ul>
<li><a href="https://gist.github.com/ageitgey/1ac8dbe8572f3f533df6269dab35df65">树莓派安装指南</a></li>
</ul>
<h4 id="在windows上安装">在Windows上安装</h4>
<p>虽然本项目官方并不支持Windows，但一些大神们摸索出了在Windows上运行本项目的方法：</p>
<ul>
<li><a href="https://github.com/ageitgey/face_recognition/issues/175#issue-257710508">@masoudr写的教程：如何在Win10系统上安装 dlib库和  face_recognition项目</a></li>
</ul>
<h4 id="使用ubuntu虚拟机镜像文件安装配置虚拟机本项目已经包含在这个镜像中">使用Ubuntu虚拟机镜像文件安装配置虚拟机，本项目已经包含在这个镜像中</h4>
<ul>
<li><a href="https://medium.com/@ageitgey/try-deep-learning-in-python-now-with-a-fully-pre-configured-vm-1d97d4c3e9b">如何使用Adam Geitgey大神提供的Ubuntu虚拟机镜像文件安装配置虚拟机，本项目已经包含在镜像中</a>（需要电脑中安装VMWare Player 或者 VirtualBox）</li>
</ul>
<h2 id="使用方法">使用方法</h2>
<h3 id="命令行界面">命令行界面</h3>
<p>当你安装好了本项目，你可以使用两种命令行工具：</p>
<ul>
<li><code>face_recognition</code> - 在单张图片或一个图片文件夹中认出是谁的脸。</li>
<li><code>face_detection</code> - 在单张图片或一个图片文件夹中定位人脸位置。</li>
</ul>
<h4 id="face_recognition-命令行工具"><code>face_recognition</code> 命令行工具</h4>
<p><code>face_recognition</code>命令行工具可以在单张图片或一个图片文件夹中认出是谁的脸。</p>
<p>首先，你得有一个你已经知道名字的人脸图片文件夹，一个人一张图，图片的文件名即为对应的人的名字：</p>
<p><img src="https://cloud.githubusercontent.com/assets/896692/23582466/8324810e-00df-11e7-82cf-41515eba704d.png" alt="known"></p>
<p>然后，你需要第二个图片文件夹，文件夹里面是你希望识别的图片：</p>
<p><img src="https://cloud.githubusercontent.com/assets/896692/23582465/81f422f8-00df-11e7-8b0d-75364f641f58.png" alt="unknown"></p>
<p>然后，你在命令行中切换到这两个文件夹所在路径，然后使用<code>face_recognition</code>命令行，传入这两个图片文件夹，然后就会输出未知图片中人的名字：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ face_recognition ./pictures_of_people_i_know/ ./unknown_pictures/

/unknown_pictures/unknown.jpg,Barack Obama
/face_recognition_test/unknown_pictures/unknown.jpg,unknown_person
</code></pre></td></tr></table>
</div>
</div><p>输出结果的每一行对应着图片中的一张脸，图片名字和对应人脸识别结果用逗号分开。</p>
<p>如果结果输出了<code>unknown_person</code>，那么代表这张脸没有对应上已知人脸图片文件夹中的任何一个人。</p>
<h4 id="face_detection-命令行工具"><code>face_detection</code> 命令行工具</h4>
<p><code>face_detection</code>命令行工具可以在单张图片或一个图片文件夹中定位人脸位置（输出像素点坐标）。</p>
<p>在命令行中使用<code>face_detection</code>，传入一个图片文件夹或单张图片文件来进行人脸位置检测：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ face_detection  ./folder_with_pictures/

examples/image1.jpg,65,215,169,112
examples/image2.jpg,62,394,211,244
examples/image2.jpg,95,941,244,792
</code></pre></td></tr></table>
</div>
</div><p>输出结果的每一行都对应图片中的一张脸，输出坐标代表着这张脸的上、右、下、左像素点坐标。</p>
<h5 id="调整人脸识别的容错率和敏感度">调整人脸识别的容错率和敏感度</h5>
<p>如果一张脸识别出不止一个结果，那么这意味着他和其他人长的太像了（本项目对于小孩和亚洲人的人脸识别准确率有待提升）。你可以把容错率调低一些，使识别结果更加严格。</p>
<p>通过传入参数 <code>--tolerance</code> 来实现这个功能，默认的容错率是0.6，容错率越低，识别越严格准确。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ face_recognition --tolerance 0.54 ./pictures_of_people_i_know/ ./unknown_pictures/

/unknown_pictures/unknown.jpg,Barack Obama
/face_recognition_test/unknown_pictures/unknown.jpg,unknown_person
</code></pre></td></tr></table>
</div>
</div><p>如果你想看人脸匹配的具体数值，可以传入参数 <code>--show-distance true</code>：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ face_recognition --show-distance <span class="nb">true</span> ./pictures_of_people_i_know/ ./unknown_pictures/

/unknown_pictures/unknown.jpg,Barack Obama,0.378542298956785
/face_recognition_test/unknown_pictures/unknown.jpg,unknown_person,None
</code></pre></td></tr></table>
</div>
</div><h5 id="更多的例子">更多的例子</h5>
<p>如果你并不在乎图片的文件名，只想知道文件夹中的图片里有谁，可以用这个管道命令：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ face_recognition ./pictures_of_people_i_know/ ./unknown_pictures/ <span class="p">|</span> cut -d <span class="s1">&#39;,&#39;</span> -f2

Barack Obama
unknown_person
</code></pre></td></tr></table>
</div>
</div><h5 id="加速人脸识别运算">加速人脸识别运算</h5>
<p>如果你的CPU是多核的，你可以通过并行运算加速人脸识别。例如，如果你的CPU有四个核心，那么你可以通过并行运算提升大概四倍的运算速度。</p>
<p>如果你使用Python3.4或更新的版本，可以传入 <code>--cpus &lt;number_of_cpu_cores_to_use&gt;</code> 参数：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ face_recognition --cpus <span class="m">4</span> ./pictures_of_people_i_know/ ./unknown_pictures/
</code></pre></td></tr></table>
</div>
</div><p>你可以传入 <code>--cpus -1</code>参数来调用cpu的所有核心。</p>
<blockquote>
<p>子豪兄批注：树莓派3B有4个CPU核心，传入多核参数可以显著提升图片识别的速度（亲测）。</p>
</blockquote>
<h4 id="python-模块face_recognition">Python 模块:<code>face_recognition</code></h4>
<p>在Python中，你可以导入<code>face_recognition</code>模块，调用我们提供的丰富的API接口，用几行代码就可以轻松玩转各种人脸识别功能！</p>
<p>API 接口文档: <a href="https://face-recognition.readthedocs.io/en/latest/face_recognition.html">https://face-recognition.readthedocs.io</a></p>
<h5 id="在图片中定位人脸的位置">在图片中定位人脸的位置</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">face_recognition</span>

<span class="n">image</span> <span class="o">=</span> <span class="n">face_recognition</span><span class="o">.</span><span class="n">load_image_file</span><span class="p">(</span><span class="s2">&#34;my_picture.jpg&#34;</span><span class="p">)</span>
<span class="n">face_locations</span> <span class="o">=</span> <span class="n">face_recognition</span><span class="o">.</span><span class="n">face_locations</span><span class="p">(</span><span class="n">image</span><span class="p">)</span>

<span class="c1"># face_locations is now an array listing the co-ordinates of each face!</span>
</code></pre></td></tr></table>
</div>
</div><p>看 <a href="https://github.com/ageitgey/face_recognition/blob/master/examples/find_faces_in_picture.py">案例：定位拜登的脸</a></p>
<p><img src="https://upload-images.jianshu.io/upload_images/13714448-b4ce08c6ba699c5e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="案例：定位拜登的脸"></p>
<p>你也可以使用深度学习模型达到更加精准的人脸定位。</p>
<p>注意：这种方法需要GPU加速（通过英伟达显卡的CUDA库驱动），你在编译安装<code>dlib</code>的时候也需要开启CUDA支持。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">face_recognition</span>

<span class="n">image</span> <span class="o">=</span> <span class="n">face_recognition</span><span class="o">.</span><span class="n">load_image_file</span><span class="p">(</span><span class="s2">&#34;my_picture.jpg&#34;</span><span class="p">)</span>
<span class="n">face_locations</span> <span class="o">=</span> <span class="n">face_recognition</span><span class="o">.</span><span class="n">face_locations</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">model</span><span class="o">=</span><span class="s2">&#34;cnn&#34;</span><span class="p">)</span>

<span class="c1"># face_locations is now an array listing the co-ordinates of each face!</span>
</code></pre></td></tr></table>
</div>
</div><p>看 <a href="https://github.com/ageitgey/face_recognition/blob/master/examples/find_faces_in_picture_cnn.py">案例：使用卷积神经网络深度学习模型定位拜登的脸</a></p>
<p>如果你有很多图片需要识别，同时又有GPU，那么你可以参考这个例子：<a href="https://github.com/ageitgey/face_recognition/blob/master/examples/find_faces_in_batches.py">案例：使用卷积神经网络深度学习模型批量识别图片中的人脸</a>.</p>
<h5 id="识别单张图片中人脸的关键点">识别单张图片中人脸的关键点</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">face_recognition</span>

<span class="n">image</span> <span class="o">=</span> <span class="n">face_recognition</span><span class="o">.</span><span class="n">load_image_file</span><span class="p">(</span><span class="s2">&#34;my_picture.jpg&#34;</span><span class="p">)</span>
<span class="n">face_landmarks_list</span> <span class="o">=</span> <span class="n">face_recognition</span><span class="o">.</span><span class="n">face_landmarks</span><span class="p">(</span><span class="n">image</span><span class="p">)</span>

<span class="c1"># face_landmarks_list is now an array with the locations of each facial feature in each face.</span>
<span class="c1"># face_landmarks_list[0][&#39;left_eye&#39;] would be the location and outline of the first person&#39;s left eye.</span>
</code></pre></td></tr></table>
</div>
</div><p>看这个案例 <a href="https://github.com/ageitgey/face_recognition/blob/master/examples/find_facial_features_in_picture.py">案例：提取奥巴马和拜登的面部关键点</a>
<img src="https://upload-images.jianshu.io/upload_images/13714448-734e8b4f5592ed4a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="案例：提取奥巴马和拜登的面部关键点"></p>
<h5 id="识别图片中的人是谁-1">识别图片中的人是谁</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">face_recognition</span>

<span class="n">picture_of_me</span> <span class="o">=</span> <span class="n">face_recognition</span><span class="o">.</span><span class="n">load_image_file</span><span class="p">(</span><span class="s2">&#34;me.jpg&#34;</span><span class="p">)</span>
<span class="n">my_face_encoding</span> <span class="o">=</span> <span class="n">face_recognition</span><span class="o">.</span><span class="n">face_encodings</span><span class="p">(</span><span class="n">picture_of_me</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

<span class="c1"># my_face_encoding now contains a universal &#39;encoding&#39; of my facial features that can be compared to any other picture of a face!</span>

<span class="n">unknown_picture</span> <span class="o">=</span> <span class="n">face_recognition</span><span class="o">.</span><span class="n">load_image_file</span><span class="p">(</span><span class="s2">&#34;unknown.jpg&#34;</span><span class="p">)</span>
<span class="n">unknown_face_encoding</span> <span class="o">=</span> <span class="n">face_recognition</span><span class="o">.</span><span class="n">face_encodings</span><span class="p">(</span><span class="n">unknown_picture</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

<span class="c1"># Now we can see the two face encodings are of the same person with `compare_faces`!</span>

<span class="n">results</span> <span class="o">=</span> <span class="n">face_recognition</span><span class="o">.</span><span class="n">compare_faces</span><span class="p">([</span><span class="n">my_face_encoding</span><span class="p">],</span> <span class="n">unknown_face_encoding</span><span class="p">)</span>

<span class="k">if</span> <span class="n">results</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="bp">True</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&#34;It&#39;s a picture of me!&#34;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&#34;It&#39;s not a picture of me!&#34;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>看这个案例 <a href="https://github.com/ageitgey/face_recognition/blob/master/examples/recognize_faces_in_pictures.py">案例：是奥巴马还是拜登？</a></p>
<h2 id="python-案例">Python 案例</h2>
<p>所有案例都在这个链接中 <a href="https://github.com/ageitgey/face_recognition/tree/master/examples">也就是examples文件夹</a>.</p>
<h4 id="人脸定位">人脸定位</h4>
<ul>
<li><a href="https://github.com/ageitgey/face_recognition/blob/master/examples/find_faces_in_picture.py">案例：定位拜登的脸</a></li>
<li><a href="https://github.com/ageitgey/face_recognition/blob/master/examples/find_faces_in_picture_cnn.py">案例：使用卷积神经网络深度学习模型定位拜登的脸</a></li>
<li><a href="https://github.com/ageitgey/face_recognition/blob/master/examples/find_faces_in_batches.py">案例：使用卷积神经网络深度学习模型批量识别图片中的人脸</a></li>
<li><a href="https://github.com/ageitgey/face_recognition/blob/master/examples/blur_faces_on_webcam.py">案例：把来自网络摄像头视频里的人脸高斯模糊（需要安装OpenCV）</a></li>
</ul>
<h4 id="人脸关键点识别">人脸关键点识别</h4>
<ul>
<li><a href="https://github.com/ageitgey/face_recognition/blob/master/examples/find_facial_features_in_picture.py">案例：提取奥巴马和拜登的面部关键点</a></li>
<li><a href="https://github.com/ageitgey/face_recognition/blob/master/examples/digital_makeup.py">案例：给美国副总统拜登涂美妆</a></li>
</ul>
<h4 id="人脸识别">人脸识别</h4>
<ul>
<li><a href="https://github.com/ageitgey/face_recognition/blob/master/examples/recognize_faces_in_pictures.py">案例：是奥巴马还是拜登？</a></li>
<li><a href="https://github.com/ageitgey/face_recognition/blob/master/examples/identify_and_draw_boxes_on_faces.py">案例：人脸识别之后在原图上画框框并标注姓名</a></li>
<li><a href="https://github.com/ageitgey/face_recognition/blob/master/examples/face_distance.py">案例：在不同精度上比较两个人脸是否属于一个人</a></li>
<li><a href="https://github.com/ageitgey/face_recognition/blob/master/examples/facerec_from_webcam.py">案例：从摄像头获取视频进行人脸识别-较慢版（需要安装OpenCV）</a></li>
<li><a href="https://github.com/ageitgey/face_recognition/blob/master/examples/facerec_from_webcam_faster.py">案例：从摄像头获取视频进行人脸识别-较快版（需要安装OpenCV）</a></li>
<li><a href="https://github.com/ageitgey/face_recognition/blob/master/examples/facerec_from_video_file.py">案例：从视频文件中识别人脸并把识别结果输出为新的视频文件（需要安装OpenCV）</a></li>
<li><a href="https://github.com/ageitgey/face_recognition/blob/master/examples/facerec_on_raspberry_pi.py">案例：通过树莓派摄像头进行人脸个数统计及人脸身份识别</a></li>
<li><a href="https://github.com/ageitgey/face_recognition/blob/master/examples/web_service_example.py">案例：通过浏览器HTTP访问网络服务器进行人脸识别（需要安装Flask后端开发框架）)</a></li>
<li><a href="https://github.com/ageitgey/face_recognition/blob/master/examples/face_recognition_knn.py">案例：基于K最近邻KNN分类算法进行人脸识别</a></li>
</ul>
<h2 id="关于-face_recognition的文章和教程">关于 <code>face_recognition</code>的文章和教程</h2>
<ul>
<li>本项目作者写的一篇文章 <a href="https://medium.com/@ageitgey/machine-learning-is-fun-part-4-modern-face-recognition-with-deep-learning-c3cffc121d78">Modern Face Recognition with Deep Learning</a>
<ul>
<li>主要内容：基本算法和原理</li>
</ul>
</li>
<li><a href="https://www.pyimagesearch.com/2018/06/18/face-recognition-with-opencv-python-and-deep-learning/">Face recognition with OpenCV, Python, and deep learning</a> by Adrian Rosebrock
<ul>
<li>主要内容：如何实际使用本项目</li>
</ul>
</li>
<li><a href="https://www.pyimagesearch.com/2018/06/25/raspberry-pi-face-recognition/">Raspberry Pi Face Recognition</a> by Adrian Rosebrock
<ul>
<li>主要内容：如何在树莓派上使用本项目</li>
</ul>
</li>
<li><a href="https://www.pyimagesearch.com/2018/07/09/face-clustering-with-python/">Face clustering with Python</a> by Adrian Rosebrock
<ul>
<li>主要内容：使用非监督学习算法实现把图片中的人脸高斯模糊</li>
</ul>
</li>
</ul>
<h2 id="人脸识别的原理">人脸识别的原理</h2>
<p>如果你想更深入了解人脸识别这个黑箱的原理 <a href="https://medium.com/@ageitgey/machine-learning-is-fun-part-4-modern-face-recognition-with-deep-learning-c3cffc121d78">读这篇文章</a>。</p>
<blockquote>
<p>子豪兄批注：一定要看这篇文章，讲的既有趣又有料。</p>
</blockquote>
<h2 id="警告说明">警告说明</h2>
<ul>
<li>本项目的人脸识别模型是基于成年人的，在孩子身上效果可能一般。如果图片中有孩子的话，建议把临界值设为0.6.</li>
<li>不同人种的识别结果可能不同， <a href="https://github.com/ageitgey/face_recognition/wiki/Face-Recognition-Accuracy-Problems#question-face-recognition-works-well-with-european-individuals-but-overall-accuracy-is-lower-with-asian-individuals">看wiki百科页面</a> 查看更多细节。</li>
</ul>
<h2 id="把本项目部署在云服务器上-heroku-aws等">把本项目部署在云服务器上 (Heroku, AWS等)</h2>
<p>本项目是基于C++库<code>dlib</code>的，所以把本项目部署在Heroku或者AWS的云端服务器上是很明智的。</p>
<p>为了简化这个过程，有一个Dockerfile案例，教你怎么把<code>face_recognition</code>开发的app封装成<a href="https://www.docker.com/">Docker</a> 容器文件，你可以把它部署在所以支持Docker镜像文件的云服务上。</p>
<h2 id="出了幺蛾子">出了幺蛾子？</h2>
<p>如果出了问题，请在Github提交Issue之前查看 <a href="https://github.com/ageitgey/face_recognition/wiki/Common-Errors">常见错误</a> 。</p>
<h2 id="鸣谢">鸣谢</h2>
<ul>
<li>非常感谢 <a href="https://github.com/davisking">Davis King</a> (<a href="https://twitter.com/nulhom">@nulhom</a>)创建了<code>dlib</code>库，提供了响应的人脸关键点检测和人脸编码相关的模型，你可以查看 <a href="http://blog.dlib.net/2017/02/high-quality-face-recognition-with-deep.html">blog post</a>这个网页获取更多有关ResNet的信息。</li>
<li>感谢每一个相关Python模块（包括numpy,scipy,scikit-image,pillow等）的贡献者。</li>
<li>感谢 <a href="https://github.com/audreyr/cookiecutter">Cookiecutter</a> 和<a href="https://github.com/audreyr/cookiecutter-pypackage">audreyr/cookiecutter-pypackage</a> 项目模板，使得Python的打包方式更容易接受。</li>
</ul>

    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">lixueping</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
        2020-01-16
        <a href="https://github.com/lflxp/commit/e69668aab8e432c50dbba896b556c37795bcd3db" title="2020年 01月 16日 星期四 17:59:55 CST">(e69668a)</a>
    </span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">许可协议</span>
    <span class="item-content">MIT</span>
  </p>
</div>
<div class="post-reward">
  <input type="checkbox" name="reward" id="reward" hidden />
  <label class="reward-button" for="reward">赞赏支持</label>
  <div class="qr-code">
    
    <label class="qr-code-image" for="reward">
        <img class="image" src="/tx.png">
        <span>微信打赏</span>
      </label>
    <label class="qr-code-image" for="reward">
        <img class="image" src="/ali.png">
        <span>支付宝打赏</span>
      </label>
  </div>
</div><footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB/">人脸识别</a>
          <a href="/tags/face_recognition/">face_recognition</a>
          <a href="/tags/ml/">ml</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/ai/app/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">face_recognition-实际应用(附代码)</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        <a class="next" href="/post/ai/ocr/">
            <span class="next-text nav-default">利用tesseract-ocr进行中文识别</span>
            <span class="next-text nav-mobile">下一篇</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  
    <script src="https://utteranc.es/client.js"
            repo="lflxp/lflxp.github.com"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async>
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://github.com/utterance">comments powered by utterances.</a></noscript>

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:382023823@qq.com" class="iconfont icon-email" title="email"></a>
      <a href="https://www.lflxp.cn" class="iconfont icon-stack-overflow" title="stack-overflow"></a>
      <a href="https://www.lflxp.cn" class="iconfont icon-twitter" title="twitter"></a>
      <a href="https://www.lflxp.cn" class="iconfont icon-facebook" title="facebook"></a>
      <a href="https://www.lflxp.cn" class="iconfont icon-linkedin" title="linkedin"></a>
      <a href="https://www.lflxp.cn" class="iconfont icon-google" title="google"></a>
      <a href="https://github.com/lflxp" class="iconfont icon-github" title="github"></a>
      <a href="https://www.lflxp.cn" class="iconfont icon-weibo" title="weibo"></a>
      <a href="https://www.lflxp.cn" class="iconfont icon-zhihu" title="zhihu"></a>
      <a href="https://www.lflxp.cn" class="iconfont icon-douban" title="douban"></a>
      <a href="https://www.lflxp.cn" class="iconfont icon-pocket" title="pocket"></a>
      <a href="https://www.lflxp.cn" class="iconfont icon-tumblr" title="tumblr"></a>
      <a href="https://www.lflxp.cn" class="iconfont icon-instagram" title="instagram"></a>
      <a href="https://www.lflxp.cn" class="iconfont icon-gitlab" title="gitlab"></a>
      <a href="https://www.lflxp.cn" class="iconfont icon-bilibili" title="bilibili"></a>
  <a href="https://www.lflxp.cn/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" href="https://gohugo.io">Hugo</a> 强力驱动
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    主题 - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  <div class="busuanzi-footer">
    <span id="busuanzi_container_site_pv"> 本站总访问量 <span id="busuanzi_value_site_pv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> 次 </span>
      <span class="division">|</span>
    <span id="busuanzi_container_site_uv"> 本站总访客数 <span id="busuanzi_value_site_uv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> 人 </span>
  </div>

  <span class="copyright-year">
    &copy; 
    2016 - 
    2020
    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">lflxp.cn 版权所有 ICP证：<a href='http://www.beian.miit.gov.cn' target='_blank'>渝ICP备17011066号-1</a></span>
  </span>
</div>
    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/timeago.js@3.0.2/dist/timeago.min.js" integrity="sha256-jwCP0NAdCBloaIWTWHmW4i3snUNMHUNO+jr9rYd2iOI=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/timeago.js@3.0.2/dist/timeago.locales.min.js" integrity="sha256-ZwofwC1Lf/faQCzN7nZtfijVV6hSwxjQMwXL4gn9qU8=" crossorigin="anonymous"></script>
  <script><!-- NOTE: timeago.js uses the language code format like "zh_CN" (underscore and case sensitive) -->
    var languageCode = "zh-cn".replace(/-/g, '_').replace(/_(.*)/, function ($0, $1) {return $0.replace($1, $1.toUpperCase());});
    timeago().render(document.querySelectorAll('.timeago'), languageCode);
    timeago.cancel();  
  </script><script></script><script src="https://cdn.jsdelivr.net/npm/raphael@2.2.7/raphael.min.js" integrity="sha256-67By+NpOtm9ka1R6xpUefeGOY8kWWHHRAKlvaTJ7ONI=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/flowchart.js@1.8.0/release/flowchart.min.js" integrity="sha256-zNGWjubXoY6rb5MnmpBNefO0RgoVYfle9p0tvOQM+6k=" crossorigin="anonymous"></script>
<script type="text/javascript" src="/dist/even.26188efa.min.js"></script>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', '渝ICP备17011066号-1', 'auto');
	ga('set', 'anonymizeIp', true);
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>







</body>
</html>
